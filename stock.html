<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BeylikdÃ¼zÃ¼ Akademi Kitap KÄ±rtasiye</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

<!-- HEADER -->
<header class="bg-blue-900 text-white p-4 flex justify-between">
  <h1 class="text-xl font-bold">BeylikdÃ¼zÃ¼ Akademi KÄ±rtasiye</h1>
  <button onclick="toggleCart()" class="bg-white text-blue-900 px-3 py-1 rounded">ğŸ›’ Sepet (<span id="cartCount">0</span>)</button>
</header>

<!-- HERO -->
<section class="text-center p-8 bg-blue-100">
  <h2 class="text-2xl font-bold">KÄ±rtasiye â€¢ Kitap â€¢ Ofis</h2>
  <p>Uygun fiyat â€“ HÄ±zlÄ± alÄ±ÅŸveriÅŸ</p>
</section>

<!-- PRODUCTS -->
<section class="p-6 grid grid-cols-1 md:grid-cols-3 gap-4">
  <div class="bg-white p-4 rounded shadow">
    <h3 class="font-bold">Spiralli Defter</h3>
    <p>45 TL</p>
    <button onclick="addToCart('Spiralli Defter',45)" class="mt-2 bg-blue-900 text-white px-3 py-1 rounded">Sepete Ekle</button>
  </div>
  <div class="bg-white p-4 rounded shadow">
    <h3 class="font-bold">TÃ¼kenmez Kalem</h3>
    <p>10 TL</p>
    <button onclick="addToCart('TÃ¼kenmez Kalem',10)" class="mt-2 bg-blue-900 text-white px-3 py-1 rounded">Sepete Ekle</button>
  </div>
  <div class="bg-white p-4 rounded shadow">
    <h3 class="font-bold">Hikaye KitabÄ±</h3>
    <p>85 TL</p>
    <button onclick="addToCart('Hikaye KitabÄ±',85)" class="mt-2 bg-blue-900 text-white px-3 py-1 rounded">Sepete Ekle</button>
  </div>
</section>

<!-- CART -->
<div id="cart" class="hidden fixed right-0 top-0 h-full w-80 bg-white shadow p-4">
  <h2 class="text-lg font-bold">Sepet</h2>
  <ul id="cartItems" class="mt-2"></ul>
  <p class="font-bold mt-2">Toplam: <span id="total">0</span> TL</p>
  <button class="bg-green-600 text-white w-full py-2 mt-3 rounded">SipariÅŸ Ver</button>
</div>

<!-- ADMIN -->
<section class="p-6 bg-gray-200">
  <h2 class="text-xl font-bold">ğŸ” HÄ±zlÄ± Stok Ekleme (Admin)</h2>
  <div class="flex gap-2 flex-wrap">
    <input id="urunAdi" placeholder="ÃœrÃ¼n adÄ±" class="p-2 border rounded" />
    <input id="urunFiyat" type="number" placeholder="Fiyat" class="p-2 border rounded" />
    <input id="urunStok" type="number" placeholder="Stok Adedi" class="p-2 border rounded" />
    <button onclick="adminAddProduct()" class="bg-blue-900 text-white px-4 py-2 rounded">Kaydet</button>
  </div>
  <div id="adminProducts" class="mt-4 space-y-2"></div>
</section>

<footer class="bg-black text-white text-center p-3">Â© 2025 BeylikdÃ¼zÃ¼ Akademi Kitap KÄ±rtasiye</footer>

<script>
let cart = JSON.parse(localStorage.getItem('cart')) || [];
let products = JSON.parse(localStorage.getItem('products')) || [];
let total = 0;

function saveProducts(){
  localStorage.setItem('products', JSON.stringify(products));
}

function renderProducts(){
  const container = document.querySelector('section.p-6.grid');
  container.innerHTML='';
  products.forEach((p,index)=>{
    const div=document.createElement('div');
    div.className='bg-white p-4 rounded shadow';
    div.innerHTML=<h3 class='font-bold'>${p.name}</h3><p>${p.price} TL</p><p>Stok: ${p.stock}</p><button onclick="addToCart(${index})" class='mt-2 bg-blue-900 text-white px-3 py-1 rounded'>Sepete Ekle</button>;
    container.appendChild(div);
  });
}

function addToCart(index){
  if(products[index].stock<=0) return alert('Stok yok');
  products[index].stock--;
  cart.push(products[index]);
  localStorage.setItem('cart', JSON.stringify(cart));
  document.getElementById('cartCount').innerText = cart.length;
  saveProducts();
  renderProducts();
  renderCart();
}

function renderCart(){
  const list=document.getElementById('cartItems');
  list.innerHTML=''; total=0;
  cart.forEach(item=>{
    total+=Number(item.price);
    const li=document.createElement('li');
    li.innerText=${item.name} - ${item.price} TL;
    list.appendChild(li);
  });
  document.getElementById('total').innerText=total;
}

function toggleCart(){
  document.getElementById('cart').classList.toggle('hidden');
}

function adminAddProduct(){
  const name=urunAdi.value;
  const price=urunFiyat.value;
  const stock=urunStok.value;
  if(!name||!price||!stock) return alert('BoÅŸ bÄ±rakma');
  products.push({name,price,stock});
  saveProducts();
  renderProducts();
  adminRender();
  urunAdi.value=urunFiyat.value=urunStok.value='';
}

function adminRender(){
  const div=document.getElementById('adminProducts');
  div.innerHTML='';
  products.forEach(p=>{
    div.innerHTML+=<div class='bg-white p-2 rounded shadow'>${p.name} | ${p.price} TL | Stok: ${p.stock}</div>;
  });
}

renderProducts();
adminRender();
</script>

</body>
</html>
